package com.tianshen.cash.base;import android.animation.ValueAnimator;import android.app.Activity;import android.app.AlertDialog;import android.app.Dialog;import android.content.BroadcastReceiver;import android.content.Context;import android.content.Intent;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import android.os.Build;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.view.KeyEvent;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.view.Window;import android.view.WindowManager;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.LinearLayout.LayoutParams;import android.widget.ListView;import android.widget.TextView;import android.widget.Toast;import com.tianshen.cash.R;import com.tianshen.cash.adapter.PermissionDialogAdapter;import com.tianshen.cash.constant.GlobalParams;import com.tianshen.cash.model.PermissionHintBean;import com.tianshen.cash.model.PermissionHintItemBean;import com.tianshen.cash.net.api.GetPermissionHint;import com.tianshen.cash.net.base.BaseNetCallBack;import com.tianshen.cash.net.base.BaseUiListener;import com.tianshen.cash.net.base.UserUtil;import com.tianshen.cash.utils.ToastUtil;import com.tencent.connect.share.QQShare;import com.tencent.connect.share.QzoneShare;import com.tencent.mm.sdk.modelmsg.SendMessageToWX;import com.tencent.mm.sdk.modelmsg.WXMediaMessage;import com.tencent.mm.sdk.modelmsg.WXWebpageObject;import com.tencent.mm.sdk.openapi.IWXAPI;import com.tencent.mm.sdk.openapi.WXAPIFactory;import com.tencent.tauth.IUiListener;import com.tencent.tauth.Tencent;import com.tencent.tauth.UiError;import com.umeng.analytics.MobclickAgent;import org.json.JSONObject;import java.util.ArrayList;import java.util.List;import java.util.regex.Matcher;import java.util.regex.Pattern;import cn.jpush.android.api.JPushInterface;public abstract class BaseActivity extends AppCompatActivity {    protected Context mContext;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView();        setContentView(R.layout.activity_base_layout);        initParent();        findViews();        setListensers();        MyApplication myApplication = (MyApplication) getApplication();        myApplication.addTempActivityInBackStack(this);    }    @Override    protected void onActivityResult(int arg0, int arg1, Intent arg2) {        // TODO Auto-generated method stub        super.onActivityResult(arg0, arg1, arg2);    }    @Override    protected void onDestroy() {        super.onDestroy();    }    protected BroadcastReceiver mBroadcastReceiver = new BroadcastReceiver() {        @Override        public void onReceive(Context context, Intent intent) {            finish();        }    };    private void initParent() {        mContext = this;        LinearLayout subCententView = (LinearLayout) this.findViewById(R.id.base_sub_activty_layout);        LayoutParams layoutParams = new LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,                ViewGroup.LayoutParams.MATCH_PARENT);        View centerView = View.inflate(mContext, setContentView(), null);        subCententView.addView(centerView, layoutParams);    }    protected boolean isShowNoNetworksPrompt() {        return true;    }    /**     * 跳转到某个Activity     */    protected void gotoActivity(Context mContext, Class<?> toActivityClass, Bundle bundle) {        Intent intent = new Intent(mContext, toActivityClass);        if (bundle != null) {            intent.putExtras(bundle);        }        mContext.startActivity(intent);        ((Activity) mContext).overridePendingTransition(R.anim.push_right_in, R.anim.not_exit_push_left_out);    }    /**     * 退出到某个Activity     */    protected void backActivity() {        finish();        overridePendingTransition(R.anim.not_exit_push_left_in, R.anim.push_right_out);    }    @Override    public boolean onKeyDown(int keyCode, KeyEvent event) {        // 所有需要统一处理的onKeyDown写在这个if里面        if (isOnKeyDown()) {            if (keyCode == KeyEvent.KEYCODE_BACK) {                backActivity();            }        }        return super.onKeyDown(keyCode, event);    }    protected boolean isOnKeyDown() {        return true;    }    /**     * 加载子类布局     */    protected abstract int setContentView();    /**     * 加载控件     */    protected abstract void findViews();    /**     * 设置监听     */    protected abstract void setListensers();    @Override    protected void onResume() {        super.onResume();        MyApplication myApplication = (MyApplication) getApplication();        myApplication.setResumeContext(this);        MobclickAgent.onResume(this);        if (JPushInterface.isPushStopped(getApplicationContext())) {            JPushInterface.resumePush(getApplicationContext());        }    }    @Override    protected void onPause() {        super.onPause();		MobclickAgent.onPause(this);//		JPushInterface.onPause(this);    }}